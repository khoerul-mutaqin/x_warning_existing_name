<odoo>
    <data>
        <!-- ir.actions.server -->
        <record model="ir.actions.server" id="x_server_action_fal_unique_name_in_product_product_picking_wizard">
            <field name="name">Execute Code</field>
            <field name="model_id" ref="product.model_product_product" />
            <field name="state">code</field>
            <field name="code">
    if record.name:
        existing = env[record._name].search([
            ('name', 'ilike', record.name),
            ('id', '!=', record.id),
        ])
        similarity_name = False
        for ex in existing:
            similarity_name = True if ex.name.lower() == record.name.lower() else False
        if existing and similarity_name:
            raise UserError(f"Nama produk {existing.name} sudah digunakan oleh record lain. Gunakan Nama yang unik.")
            </field>
        </record>

        <record model="ir.actions.server" id="x_server_action_fal_unique_name_in_product_template_picking_wizard">
            <field name="name">Execute Code</field>
            <field name="model_id" ref="product.model_product_template" />
            <field name="state">code</field>
            <field name="code">
    if record.name:
        existing = env[record._name].search([
            ('name', 'ilike', record.name),
            ('id', '!=', record.id),
        ])
        similarity_name = False
        for ex in existing:
            similarity_name = True if ex.name.lower() == record.name.lower() else False
        if existing and similarity_name:
            raise UserError(f"Nama produk {existing.name} sudah digunakan oleh record lain. Gunakan Nama yang unik.")
            </field>
        </record>
    </data>
</odoo>
